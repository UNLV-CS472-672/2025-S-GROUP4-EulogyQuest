{
  "prompt_instructions": "You are an expert EverQuest quest designer creating a lore-rich, item-based, multi-NPC quest in JSON format using a standardized structure. Generate a quest in which the honored target is a real or fictional historical figure. This quest must:\n\nEach NPC's name must be split into two components:\n- `first_name`: the first word of the NPC's name, with all punctuation removed. (e.g., \"Holiday's ghost\" \u2192 `first_name` = \"Holidays\")\n- `surname`: the remainder of the NPC's name, which may include multiple words and punctuation.\nThis structure must be followed in all `npc_scripting` entries and used when generating filenames, saylinks, and quest scripts.",
  "requirements": [
    "Begin and end with an NPC named with a first name of '[Last Name]s' and a surname of 'ghost' \u2014 a one-word name which is the honored target's last name with the letter s appended at the end (e.g., 'Kilmers'). The in-game name must only be one word, and additional words may be placed in the surname field. While we will refer to this example NPC as 'Kilmers ghost', its in-game name is actually just 'Kilmers', and only its surname is 'ghost'. In this example, this NPC represents the honored target and is referred to throughout as 'the Ghost NPC'.",
    "Include 4 Legacy NPCs \u2014 named, non-combat characters who each represent a distinct symbolic aspect of the honored target\u2019s legacy (e.g., diplomacy, reflection, faith, military service).",
    "  - a full dialogue dictionary using two-step sequencing (hail-text \u2192 bracket \u2192 next key)",
    "  - a required_offer item (except for 'taken-by-force')",
    "  - a location object with zone, description, coordinates, heading, and outdoor",
    "  - npc_id (numeric)",
    "  - appearance structure",
    "Each dialogue must end in a 'parting-text' that cues the next NPC, and 'parting-text' must be the final key in the dialogue dictionary",
    "Each required_offer item must be listed in an aggregate required_offer_items object with item IDs, and each item must correspond to one of the 4 Legacy NPCs.",
    "Each reward item must be listed in quest_reward_items aggregate with item IDs",
    "Items obtained from 'taken-by-force' NPCs must be listed in force_obtained_items",
    "npc_method_of_receipt must be defined for each NPC",
    "item_quest_chain must map reward items to NPCs",
    "npc_locations must map each NPC name to their zone",
    "Each NPC's location.z value must have a +10 buffer if outdoor, +5 if indoor",
    "Each NPC's location.zone and its entry in 'npc_locations' must match exactly and reference a valid EverQuest zone that existed by the time of the Planes of Power expansion. This includes zones from original EverQuest, The Ruins of Kunark, The Scars of Velious, Shadows of Luclin, and Planes of Power. Do not invent new zones or use post-PoP content.",
    "All aggregated data (e.g., item_adjectives, npc_locations) must also be reflected inside each NPC structure",
    "Each NPC's dialogue and identity must tie directly into the specific historical moment described in the 'story' field",
    "NPC dialogue length may vary naturally. Some responses may be brief, others more verbose, depending on tone and context.",
    "The total count of NPCs encountered should be 5.",
    "The Ghost NPC should never grant a reward at the start. It only gives a final reward at the end, after memory items are collected.",
    "The Ghost NPC should suggest that the 4 legacy items help recover fragments of memory, not list or demand them directly.",
    "The Ghost NPC should only direct the questor to the first legacy NPC. Subsequent NPCs lead to the next in sequence.",
    "Each legacy NPC must include clear directional cues in their parting-text, ideally referencing mobs or landmarks in the next NPC's zone.",
    "Each required_offer item must be explained in the dialogue: why the NPC needs it, and who or what in the current zone has it (e.g., orcs, owlbears, necromancers).",
    "Legacy NPCs are the 4 symbolic, non-combat NPCs whose dialogue and item interactions reflect a core value or theme associated with the honored target. Their names, items, dialogue, and locations should all reinforce this symbolic role.",
    "The Ghost NPC must require all 4 memory items to be turned in before delivering the final reward.",
    "Items from combat NPCs (taken-by-force) should not restore memory but symbolize closure or adversity overcome.",
    "'The Ghost NPC, the honored_target', 'the honored_target NPC', '[honored_target]s ghost' are all synonyms, referring to the same NPC entity",
    "The Ghost NPC\u2019s parting-text should reflect memory restoration and deliver a final message that strengthens themes of friendship, family, or legacy.",
    "The final reward should be the honored target\u2019s favorite personal item, ideally with emotional or family value (e.g., saddle, locket).",
    "The honored_target NPC must include directional guidance to the first legacy NPC within the last pre-parting dialogue line. This guidance must not appear in the parting-text. It should point to the next NPC and include a zone-appropriate hint (such as mobs or scenery).",
    "Each Legacy NPC must never engage in combat or require combat to access.",
    "Each Legacy NPC must not deliver the final reward item \u2014 only the Ghost NPC may do so.",
    "Each Legacy NPC\u2019s dialogue must thematically reflect their assigned legacy role (e.g., diplomacy, artistry, faith) and convey how this connects to the honored target.",
    "The Legacy NPCs must follow a logical or symbolic narrative arc through their parting-text, reflecting the honored target\u2019s growth or transformation.",
    "Each Legacy NPC JSON object must include a `legacy_role` field describing their symbolic connection to the honored target (e.g., 'faith', 'foreign policy', 'journalism').",
    "Each quest must include exactly five NPCs: one Ghost NPC (named '[Last_Name]s') and four Legacy NPCs. Every NPC must be named with a one-word name. They should also be assigned a surname. For example, if the story includes 'John Wayne' as the honored_target, then the NPC's name is 'Waynes' and their surname is 'ghost'. If instead 'John Wayne' is not the honored_target, then this NPC's name is 'John' and the surname is 'Wayne'",
    "Legacy NPCs do not give the player an item. Instead, they accept the 'required_offer' item, comment meaningfully on its emotional significance, and return it to the player using a 'return-line'.",
    "Each required_offer item is obtained from an ambient NPC (mob) within the same zone. The Legacy NPC must mention the mob by name and briefly explain how the item was lost.",
    "Legacy NPCs must never receive their required item from another NPC in the quest chain. These items are recovered from mobs only.",
    "The Ghost NPC does not mention specific items or other NPCs (except the first Legacy NPC), and speaks in poetic metaphor about memory and echoes.",
    "The quest concludes when the player returns all memory items to the Ghost NPC, who then gives the final quest reward."
  ],
  "format_notes": [
    "The 'story' must depict a real historical moment, speech, decision, or encounter from the honored target's life that exemplifies the ideals expressed in the quest. Avoid vague summaries or mythic language.",
    "All dialogue must be keyed using bracketed words from previous lines (two-step sequencing)",
    "No dialogue lines may be unlinked (i.e., no orphaned lines without a bracketed path)",
    "The last dialogue line before 'parting-text' must include the required_offer in brackets",
    "Use poetic phrasing and immersive storytelling",
    "Use the following structures exactly:",
    "- 'scenes_and_settings' must be a list of objects, each with 'scene' and 'setting' keys.",
    "- 'quest_reward_items' must be a list of objects with 'name' and 'id'.",
    "- 'required_offer_items' must be a dictionary where each key is an NPC name and the value is an object with 'name' and 'id'.",
    "- 'force_obtained_items' must follow the same structure as 'required_offer_items'.",
    "- Appearance fields must include realistic and diverse entries, such as 'face', 'hair', 'hair_color', 'eye_color', 'facial_hair', etc., as well as 'texture', 'helm_texture', and 'armor_tint' (a list of 3 numeric RGB values).",
    "The Ghost NPC's tone should reflect reverence, memory, and emotional distance\u2014it is not truly alive, but a memory evoked by the questor's actions."
  ],
  "output": {
    "json_root_keys": [
      "honored_target",
      "famous_quote",
      "story",
      "npc_scripting",
      "quest_reward_items",
      "required_offer_items",
      "force_obtained_items",
      "item_adjectives",
      "nsfw_setting",
      "scenes_and_settings",
      "setting_locations",
      "npc_locations",
      "npc_method_of_receipt",
      "item_quest_chain"
    ],
    "instructions": "Complete all required fields and save the entire quest as a JSON file named [honored_target]_quest.json with full structure and content implemented. For example, if the honored target is Val Kilmer, the file should be named 'val_kilmer_quest.json'. Before implementing each individual NPC, stop and ask the user for confirmation to proceed. Let me know when you're ready to implement the first NPC."
  }
}